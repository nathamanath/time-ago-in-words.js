!function(t){"use strict";var e=[{name:"second",time:3e4,fn:function(t){return Math.abs(t)/1e3}},{name:"minute",time:45e3,fn:function(t){return e[0].fn(t)/60}},{name:"hour",time:6e5,fn:function(t){return e[1].fn(t)/60}},{name:"day",fn:function(t){return e[2].fn(t)/24}},{name:"week",fn:function(t){return e[3].fn(t)/7}},{name:"month",fn:function(t){return e[4].fn(t)/30}},{name:"year",fn:function(t){return e[5].fn(t)/12}}],n=function(){return new Date},i=function(t){return this.el=t,this.date=this._parseTime(),this.update(),this};i.prototype={_getDifference:function(){return n()-this.date},_getTime:function(){return this.el.getAttribute("data-time")},_parseTime:function(){var t,e=this._getTime();return new Date((t=1*e)?t:e)},_calculateMeasure:function(){for(var t,n=e[0],i=0;i<e.length;i++){var r,u=e[i];if(r=u.fn(this.difference),1>r)return this.measure=t,void(this.unit=n);n=u,t=r}},_setTimeout:function(){var t=this.unit.time,e=this;t&&(this._timeout=setTimeout(function(){e.update()},t))},_measureString:function(){var t;return t=this.measure<2?"hour"===this.unit.name?"an":"a":this.measureFloor},_longOutput:function(){var t,e="",n=Math.floor(this.measure);return n!==this.measure&&(e="about "),t=this.unit.name,this.measure>=2&&(t+="s"),e+this._measureString()+" "+t+" ago"},_shortOutput:function(){return"less than a minute ago"},_isSeconds:function(){return this.unit!==e[0]},_outputString:function(){return this._isSeconds()?this._longOutput():this._shortOutput()},update:function(){this.difference=this._getDifference(),this._calculateMeasure(),this.el.innerHTML=this._outputString(),this._setTimeout()}},i.init=function(t){var e=[];if(!t instanceof Array)throw new Error("TimeAgo.init requires els");for(var n=0;n<t.length;n++){var r=t[n];e.push(i.new(r))}return e},i.new=function(t){if("undefined"==typeof t)throw new Error("TimeAgo.new requires el");return new i(t)},t.TimeAgo=i}(window);
